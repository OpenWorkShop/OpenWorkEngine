

fragment MachineModals on MachineModals {
    motion {
        code
        value
    }
    plane {
        code
        value
    }
    distance {
        code
        value
    }
    arcDistance {
        code
        value
    }
    feedRate {
        code
        value
    }
    units {
        code
        value
    }
    cannedCycleReturnMode {
        code
        value
    }
    pathControlMode {
        code
        value
    }
    spindleSpeed {
        code
        value
    }
    cylindricalInterpolation {
        code
        value
    }
    programState {
        code
        value
    }
    userDefinedCurrent
    userDefinedCount
    workCoordinateSystemCurrent
    workCoordinateSystemCount
}

fragment MachineConfig on MachineConfiguration {
    firmware {
        ...DetectedFirmware
    }
    modals {
        ...MachineModals
    }
    workCoordinates {
        ...MachinePosition
    }
    workOffset {
        ...MachinePosition
    }
    referencePosition {
        ...MachinePosition
    }
}

subscription MachineConfiguration($portName: String!) {
    machine: onMachineConfiguration(portName: $portName) {
        topicId
        configuration {
            ...MachineConfig
        }
    }
}

#fragment SelectOption on SelectOption {
#    itemId
#    name
#}

fragment MachineModals on MachineModals {
    motion {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    plane {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    distance {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    arcDistance {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    feedRate {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    units {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    cannedCycleReturnMode {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    pathControlMode {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    spindleSpeed {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    cylindricalInterpolation {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    programState {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    userDefined {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
    workCoordinateSystem {
        id
        title
        value
        data
        hasBeenRead
        options { code value }
    }
}

fragment MachineConfig on MachineConfiguration {
    firmware {
        ...DetectedFirmware
    }
    modals {
        ...MachineModals
    }
    workCoordinates {
        ...MachinePosition
    }
    workOffset {
        ...MachinePosition
    }
    referencePosition {
        ...MachinePosition
    }
}

subscription MachineConfiguration($portName: String!) {
    machine: onMachineConfiguration(portName: $portName) {
        topicId
        configuration {
            ...MachineConfig
        }
    }
}
